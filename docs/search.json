[
  {
    "objectID": "spread.html",
    "href": "spread.html",
    "title": "Transmission Metrics",
    "section": "",
    "text": "The Effective Reproduction Number (Re) is the average number of secondary premises infected by a source per day. Re is used to estimate epidemic potential. The calculate_daily_Re() calculates the daily Re by simulation day (combined_daily_Re) and by iteration (iteration_Re).\n\n\nHide code\nRe_tab &lt;- calculate_daily_Re(region_paths, reference)\n\n## Split scenario names\ndaily_Re &lt;- Re_tab$combined_daily_Re %&gt;%\n  mutate(\n    scenario_type = str_to_title(word(scenario, 1, sep = \"/\")),\n    preclinical_delay = word(scenario, 2, sep = \"/\") %&gt;% \n      str_replace_all(\"-days?-preclinical\", \"\") %&gt;% \n      str_trim() %&gt;% \n      paste(\"Days Preclinical\", .) %&gt;% \n      str_to_title()\n  )\n\n\n\n\nThe dashed line is at Re = 1\n\n\nHide code\ndaily_Re &lt;- daily_Re %&gt;%\n  mutate(\n    preclinical_delay = recode(preclinical_delay,\n                               \"Days Preclinical 0\" = \"None\",\n                               \"Days Preclinical 1\" = \"1 Day\",\n                               \"Days Preclinical 2\" = \"2 Days\",\n                               \"Days Preclinical 3\" = \"3 Days\",\n                               \"Days Preclinical 6\" = \"6 Days\")\n  )\n  \ndaily_Re$scenario_type &lt;- ordered(factor(daily_Re$scenario_type), \n                                      c(\"Optimal\", \"Suboptimal\", \"Low-Virulence\"))\n\ndaily_Re$preclinical_delay &lt;- ordered(factor(daily_Re$preclinical_delay), \n                                      c(\"None\", \"1 Day\", \"2 Days\", \"3 Days\", \"6 Days\"))\n\nmyCols &lt;- kelly()\n\nggplot(daily_Re, aes(infect_day, cred_50, group = scenario, col = preclinical_delay)) +\n  geom_hline(yintercept = 1, col=\"black\", linewidth=0.5, linetype = \"dashed\") +\n  geom_smooth(method = \"loess\", span=0.05, se=FALSE) +\n  scale_color_manual(values = c(\n    \"None\" = myCols[3],\n    \"1 Day\" = myCols[4],\n    \"2 Days\" = myCols[6],\n    \"3 Days\" = myCols[7],\n    \"6 Days\" = myCols[10]\n    )) +\n  facet_wrap(~ scenario_type, ncol=1) +\n  labs(\n    x = \"Simulation Day\",\n    y = \"Median Effective Reproduction (Re)\",\n    col = \"Preclinical Duration\",\n    title = \" \"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.margin    = unit(c(0.25, 0.25, 0.25, 0.25), \"cm\"),\n    legend.position = \"bottom\",\n    strip.text     = element_text(size = 18, face = \"bold\", color = \"gray40\"),\n    axis.title.x   = element_text(size = 22, face = \"bold\"),\n    axis.title.y   = element_text(size = 20, face = \"bold\"),\n    axis.text.x    = element_text(size = 18, face = \"bold\"),\n    axis.text.y    = element_text(size = 18, face = \"bold\"),\n    legend.key.width = unit(3, \"line\"),\n    legend.key.height = unit(1, \"line\"),\n    legend.text = element_text(size = 16, face = \"bold\"),\n    legend.title = element_text(size = 18, face = \"bold\"),\n    plot.title     = element_text(size = 22, face = \"bold\", hjust = 0.5)\n  )"
  },
  {
    "objectID": "spread.html#effective-reproduction",
    "href": "spread.html#effective-reproduction",
    "title": "Transmission Metrics",
    "section": "",
    "text": "The Effective Reproduction Number (Re) is the average number of secondary premises infected by a source per day. Re is used to estimate epidemic potential. The calculate_daily_Re() calculates the daily Re by simulation day (combined_daily_Re) and by iteration (iteration_Re).\n\n\nHide code\nRe_tab &lt;- calculate_daily_Re(region_paths, reference)\n\n## Split scenario names\ndaily_Re &lt;- Re_tab$combined_daily_Re %&gt;%\n  mutate(\n    scenario_type = str_to_title(word(scenario, 1, sep = \"/\")),\n    preclinical_delay = word(scenario, 2, sep = \"/\") %&gt;% \n      str_replace_all(\"-days?-preclinical\", \"\") %&gt;% \n      str_trim() %&gt;% \n      paste(\"Days Preclinical\", .) %&gt;% \n      str_to_title()\n  )\n\n\n\n\nThe dashed line is at Re = 1\n\n\nHide code\ndaily_Re &lt;- daily_Re %&gt;%\n  mutate(\n    preclinical_delay = recode(preclinical_delay,\n                               \"Days Preclinical 0\" = \"None\",\n                               \"Days Preclinical 1\" = \"1 Day\",\n                               \"Days Preclinical 2\" = \"2 Days\",\n                               \"Days Preclinical 3\" = \"3 Days\",\n                               \"Days Preclinical 6\" = \"6 Days\")\n  )\n  \ndaily_Re$scenario_type &lt;- ordered(factor(daily_Re$scenario_type), \n                                      c(\"Optimal\", \"Suboptimal\", \"Low-Virulence\"))\n\ndaily_Re$preclinical_delay &lt;- ordered(factor(daily_Re$preclinical_delay), \n                                      c(\"None\", \"1 Day\", \"2 Days\", \"3 Days\", \"6 Days\"))\n\nmyCols &lt;- kelly()\n\nggplot(daily_Re, aes(infect_day, cred_50, group = scenario, col = preclinical_delay)) +\n  geom_hline(yintercept = 1, col=\"black\", linewidth=0.5, linetype = \"dashed\") +\n  geom_smooth(method = \"loess\", span=0.05, se=FALSE) +\n  scale_color_manual(values = c(\n    \"None\" = myCols[3],\n    \"1 Day\" = myCols[4],\n    \"2 Days\" = myCols[6],\n    \"3 Days\" = myCols[7],\n    \"6 Days\" = myCols[10]\n    )) +\n  facet_wrap(~ scenario_type, ncol=1) +\n  labs(\n    x = \"Simulation Day\",\n    y = \"Median Effective Reproduction (Re)\",\n    col = \"Preclinical Duration\",\n    title = \" \"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.margin    = unit(c(0.25, 0.25, 0.25, 0.25), \"cm\"),\n    legend.position = \"bottom\",\n    strip.text     = element_text(size = 18, face = \"bold\", color = \"gray40\"),\n    axis.title.x   = element_text(size = 22, face = \"bold\"),\n    axis.title.y   = element_text(size = 20, face = \"bold\"),\n    axis.text.x    = element_text(size = 18, face = \"bold\"),\n    axis.text.y    = element_text(size = 18, face = \"bold\"),\n    legend.key.width = unit(3, \"line\"),\n    legend.key.height = unit(1, \"line\"),\n    legend.text = element_text(size = 16, face = \"bold\"),\n    legend.title = element_text(size = 18, face = \"bold\"),\n    plot.title     = element_text(size = 22, face = \"bold\", hjust = 0.5)\n  )"
  },
  {
    "objectID": "spread.html#epidemic-velocity",
    "href": "spread.html#epidemic-velocity",
    "title": "Transmission Metrics",
    "section": "Epidemic Velocity",
    "text": "Epidemic Velocity\nThe epidemic velocity is the distance (km) of spread per day. The epidemic velocity is estimated by first calculating the daily spread distances.\n\nCalculate Daily Distances\nThe compile_daily_summary() function calculates distances (km) between source farms and those infected for each iteration, then calculates the quantiles by day across all iterations to get the average statistics.\n\n\nHide code\ndaily_summary &lt;- compile_daily_summary(region_paths, reference)\n\n\n\n\nCompare Scenarios\nDrop the low-virulence scenario from combined_summary and calculate percentiles\n\n\nHide code\ndaily_all &lt;- daily_summary$combined_summary\n\ndaily_quants &lt;- daily_summary$combined_summary %&gt;%\n  filter(scenario != \"low-virulence/6-days-preclinical\")\n\n\nCompare percentiles across all scenarios and prepare to wave velocity\n\n\nHide code\nmy_summary_compare &lt;- daily_quants %&gt;%\n  mutate(\n    scenario_type = str_to_title(word(scenario, 1, sep = \"/\")),\n    preclinical_delay = word(scenario, 2, sep = \"/\") %&gt;% \n      str_replace_all(\"-days?-preclinical\", \"\") %&gt;% \n      str_trim() %&gt;% \n      paste(\"Days Preclinical\", .) %&gt;% \n      str_to_title()\n  )\n\nall_summary_compare &lt;- daily_all %&gt;%\n  mutate(\n    scenario_type = str_to_title(word(scenario, 1, sep = \"/\")),\n    preclinical_delay = word(scenario, 2, sep = \"/\") %&gt;% \n      str_replace_all(\"-days?-preclinical\", \"\") %&gt;% \n      str_trim() %&gt;% \n      paste(\"Days Preclinical\", .) %&gt;% \n      str_to_title()\n  )\n\n\n\n\nPlot Epidemic Velocity\n\n\nHide code\nall_summary_compare &lt;- all_summary_compare %&gt;%\n  mutate(\n    preclinical_delay = recode(preclinical_delay,\n                               \"Days Preclinical 0\" = \"None\",\n                               \"Days Preclinical 1\" = \"1 Day\",\n                               \"Days Preclinical 2\" = \"2 Days\",\n                               \"Days Preclinical 3\" = \"3 Days\",\n                               \"Days Preclinical 6\" = \"6 Days\")\n  )\n\nall_summary_compare$scenario_type &lt;- ordered(factor(all_summary_compare$scenario_type), \n                                      c(\"Optimal\", \"Suboptimal\", \"Low-Virulence\"))\n\nall_summary_compare$preclinical_delay &lt;- ordered(factor(all_summary_compare$preclinical_delay), \n                                      c(\"None\", \"1 Day\", \"2 Days\", \"3 Days\", \"6 Days\"))\n\nmyCols &lt;- kelly()\n\nggplot(all_summary_compare, aes(infect_day, log(cred_50), \n                               group = scenario, col = preclinical_delay)) +\n  geom_line(linewidth = 0.4) +\n  ylim(0, 6) +\n  scale_color_manual(values = c(\n    \"None\" = myCols[3],\n    \"1 Day\" = myCols[4],\n    \"2 Days\" = myCols[6],\n    \"3 Days\" = myCols[7],\n    \"6 Days\" = myCols[10]\n    )) +\n  facet_wrap(~ scenario_type, ncol=1) +\n  labs(\n    x = \"Simulation Day\",\n    y = \"Distance (log km)\",\n    col = \"Preclinical Duration\",\n    title = \" \"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.margin    = unit(c(0.25, 0.25, 0.25, 0.25), \"cm\"),\n    legend.position = \"bottom\",\n    strip.text     = element_text(size = 18, face = \"bold\", color = \"gray40\"),\n    axis.title.x   = element_text(size = 22, face = \"bold\"),\n    axis.title.y   = element_text(size = 22, face = \"bold\"),\n    axis.text.x    = element_text(size = 18, face = \"bold\"),\n    axis.text.y    = element_text(size = 18, face = \"bold\"),\n    legend.key.width = unit(3, \"line\"),\n    legend.key.height = unit(1, \"line\"),\n    legend.text = element_text(size = 16, face = \"bold\"),\n    legend.title = element_text(size = 18, face = \"bold\"),\n    plot.title     = element_text(size = 22, face = \"bold\", hjust = 0.5)\n  )"
  },
  {
    "objectID": "spread.html#iteration-metrics",
    "href": "spread.html#iteration-metrics",
    "title": "Transmission Metrics",
    "section": "Iteration Metrics",
    "text": "Iteration Metrics\nCompare scenarios by looking for patterns at the level of individual iterations. The iteration_metrics() will use the other output in daily_summary to look at trends between optimal and suboptimal responses.\nThe function returns iteration specific metrics:\n\nauc_log\nThe amount of area (total) under the plotted line (distance x day) above on a log scale, i.e., the Area Under Curve (AUC). This represents the total distance covered during the outbreak`s spread (on the log scale).\n\n\npeak_spread\nThe maximum distance spread in any one day (log scale).\n\n\npeak_day\nThe infect day that the maximum spread distance (peak_spread) occurred.\n\n\nHide code\n## Calculate iteration metrics\niteration_metrics &lt;- iteration_metrics(daily_summary$daily_distances)\n\ndim(iteration_metrics)\n\n\n[1] 4213    7\n\n\n\n\nHide code\n## Print daily iteration metrics\nhead(iteration_metrics, 3)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\niteration\nauc_log\npeak_spread\npeak_day\npreclinical_delay\nscenario_type\n\n\n\n\n1\n1008.910\n5.706722\n26\n6\nlow-virulence\n\n\n2\n1132.437\n5.999672\n247\n6\nlow-virulence\n\n\n3\n1154.273\n5.935495\n30\n6\nlow-virulence\n\n\n\n\n\n\n\n\nOrder scenario levels\n\n\nHide code\n# Capitalize for labels\niteration_metrics$scenario_type &lt;- str_to_title(iteration_metrics$scenario_type)\n\niteration_metrics$scenario_type &lt;- ordered(factor(iteration_metrics$scenario_type), \n                                      c(\"Optimal\",\"Suboptimal\", \"Low-virulence\"))"
  },
  {
    "objectID": "spread.html#cumulative-spread",
    "href": "spread.html#cumulative-spread",
    "title": "Transmission Metrics",
    "section": "Cumulative Spread",
    "text": "Cumulative Spread\nCumulative spatial spread is calculated to quantify the geographic extent of simulated outbreaks. First, drop the low-virulence scenario to compare optimal vs. suboptimal detection scenarios.\n\n\nHide code\niteration_metrics_no_low &lt;- iteration_metrics %&gt;%\n  filter(scenario_type != \"Low-Virulence\")\n\n\nPlot the estimated Area Under Curve (AUC), which represents total cumulative spread distance, for each response level and preclinical scenario, by iteration (points). Then do a regression (lm) to find the trend across increasing preclinical days.\n\n\nHide code\nggplot(iteration_metrics_no_low, \n       aes(x = preclinical_delay, y = auc_log, color = scenario_type)) +\n  geom_point(shape=1, alpha = 0.3, size = 2) + # individual iterations\n  geom_smooth(method = \"lm\", se = FALSE, linewidth=1.2) + # trend\n  facet_grid(. ~ scenario_type) +\n  scale_color_manual(values = c(\"Suboptimal\" = \"#74add1\", \"Optimal\" = \"orange2\")) +\n  labs(\n    x = \"Days Preclinical\",\n    y = \"Cumulative Spread (log AUC)\",\n    title = \" \"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.margin    = unit(c(0.25, 0.25, 0.25, 0.25), \"cm\"),\n    legend.position = \"none\",\n    strip.text     = element_text(size = 18, face = \"bold\", color = \"gray40\"),\n    axis.title.x   = element_text(size = 22, face = \"bold\"),\n    axis.title.y   = element_text(size = 22, face = \"bold\"),\n    axis.text.x    = element_text(size = 18, face = \"bold\"),\n    axis.text.y    = element_text(size = 18, face = \"bold\"),\n    plot.title     = element_text(size = 22, face = \"bold\", hjust = 0.5)\n  )\n\n\n\n\n\n\n\n\n\n\nSignificance Test\nFit a linear model with an interaction term to quantify the influence of preclinical_delay and scenario_type on cumulative outbreak spread (auc_log).\n\nLinear Model\n\n\nHide code\nmodel_auc &lt;- lm(auc_log ~ preclinical_delay * scenario_type, data = iteration_metrics_no_low)\n\nsummary(model_auc)\n\n\n\nCall:\nlm(formula = auc_log ~ preclinical_delay * scenario_type, data = iteration_metrics_no_low)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-316.97  -79.18  -28.81   47.52  855.07 \n\nCoefficients:\n                                  Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)                         78.708      4.674  16.840  &lt; 2e-16 ***\npreclinical_delay                   45.739      2.373  19.276  &lt; 2e-16 ***\nscenario_type.L                     48.654      6.610   7.361 2.28e-13 ***\npreclinical_delay:scenario_type.L   32.891      3.356   9.802  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 150.3 on 3429 degrees of freedom\n  (280 observations deleted due to missingness)\nMultiple R-squared:  0.2637,    Adjusted R-squared:  0.263 \nF-statistic: 409.3 on 3 and 3429 DF,  p-value: &lt; 2.2e-16\n\n\n\n\nAnalysis of Variance (ANOVA)\n\n\nHide code\nanova(model_auc)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDf\nSum Sq\nMean Sq\nF value\nPr(&gt;F)\n\n\n\n\npreclinical_delay\n1\n8014986\n8014986.44\n354.99578\n0\n\n\nscenario_type\n1\n17537524\n17537523.84\n776.76326\n0\n\n\npreclinical_delay:scenario_type\n1\n2169123\n2169123.39\n96.07373\n0\n\n\nResiduals\n3429\n77418915\n22577.69\nNA\nNA"
  },
  {
    "objectID": "spread.html#peak-spread",
    "href": "spread.html#peak-spread",
    "title": "Transmission Metrics",
    "section": "Peak Spread",
    "text": "Peak Spread\nAs with cumulative spread above, comparisons can be made using the peak spread rates.\n\n\nHide code\nggplot(iteration_metrics_no_low, aes(x = preclinical_delay, y = peak_day, color = scenario_type)) +\n  geom_point(shape=1, alpha = 0.3, size = 2) + # individual iterations\n  geom_smooth(method = \"lm\", se = FALSE, linewidth=1.2) +\n  facet_grid(. ~ scenario_type) +\n  scale_color_manual(values = c(\"Delayed\" = \"#74add1\", \"Optimal\" = \"orange2\")) +\n  labs(\n    x = \"Days Preclinical\",\n    y = \"Day of Peak Transmission\",\n    title = \" \"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.margin    = unit(c(0.25, 0.25, 0.25, 0.25), \"cm\"),\n    legend.position = \"none\",\n    strip.text     = element_text(size = 18, face = \"bold\", color = \"gray40\"),\n    axis.title.x   = element_text(size = 22, face = \"bold\"),\n    axis.title.y   = element_text(size = 22, face = \"bold\"),\n    axis.text.x    = element_text(size = 18, face = \"bold\"),\n    axis.text.y    = element_text(size = 18, face = \"bold\"),\n    plot.title     = element_text(size = 22, face = \"bold\", hjust = 0.5)\n  )\n\n\n\n\n\n\n\n\n\n\nSignificance Test\nFit a linear model with an interaction term to quantify the influence of preclinical_delay and scenario_type on the maximum spread rate and it`s (peak_day).\n\nLinear Model\n\n\nHide code\nmodel_peak &lt;- lm(peak_day ~ preclinical_delay * scenario_type, data = iteration_metrics_no_low)\n\nsummary(model_peak)\n\n\n\nCall:\nlm(formula = peak_day ~ preclinical_delay * scenario_type, data = iteration_metrics_no_low)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-43.909 -13.940  -6.919   5.852 287.081 \n\nCoefficients:\n                                  Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)                        26.3329     0.8619  30.553  &lt; 2e-16 ***\npreclinical_delay                   4.7061     0.4506  10.444  &lt; 2e-16 ***\nscenario_type.L                     6.5160     1.2189   5.346 9.54e-08 ***\npreclinical_delay:scenario_type.L   4.6434     0.6373   7.286 3.87e-13 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 30.38 on 3709 degrees of freedom\nMultiple R-squared:  0.1263,    Adjusted R-squared:  0.1256 \nF-statistic: 178.7 on 3 and 3709 DF,  p-value: &lt; 2.2e-16\n\n\n\n\nAnalysis of Variance (ANOVA)\n\n\nHide code\nanova(model_peak)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDf\nSum Sq\nMean Sq\nF value\nPr(&gt;F)\n\n\n\n\npreclinical_delay\n1\n97130.83\n97130.8281\n105.25678\n0\n\n\nscenario_type\n1\n348554.42\n348554.4173\n377.71442\n0\n\n\npreclinical_delay:scenario_type\n1\n48993.79\n48993.7929\n53.09261\n0\n\n\nResiduals\n3709\n3422660.79\n922.7988\nNA\nNA"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Overview",
    "section": "",
    "text": "Under Active Development\n\n\n\nThis site includes exploratory analyses that have not been verified or validated and are subject to change."
  },
  {
    "objectID": "index.html#navigation",
    "href": "index.html#navigation",
    "title": "Overview",
    "section": "Navigation",
    "text": "Navigation\nThe menu at right can be used to navigate through major sections on a webpage. Links across the top of the page will direct to specific analyses."
  },
  {
    "objectID": "index.html#about",
    "href": "index.html#about",
    "title": "Overview",
    "section": "About",
    "text": "About\nThis site provides a demonstrative workflow for analyses of InterSpread Plus outputs from a FMDV preclinical transmission model in U.S. cattle."
  },
  {
    "objectID": "data_preparation.html",
    "href": "data_preparation.html",
    "title": "Data Preparation",
    "section": "",
    "text": "Load needed R-packages to execute code.\n\n\nHide code\nlibrary(tidyverse)\nlibrary(usefun)\nlibrary(ggplot2)\nlibrary(here)\nlibrary(patchwork)\nlibrary(scales)\nlibrary(geosphere)\nlibrary(terra)\nlibrary(raster)\nlibrary(sf)\nlibrary(viridis)\nlibrary(pals)\n\nselect &lt;- dplyr::select"
  },
  {
    "objectID": "data_preparation.html#load-libraries",
    "href": "data_preparation.html#load-libraries",
    "title": "Data Preparation",
    "section": "",
    "text": "Load needed R-packages to execute code.\n\n\nHide code\nlibrary(tidyverse)\nlibrary(usefun)\nlibrary(ggplot2)\nlibrary(here)\nlibrary(patchwork)\nlibrary(scales)\nlibrary(geosphere)\nlibrary(terra)\nlibrary(raster)\nlibrary(sf)\nlibrary(viridis)\nlibrary(pals)\n\nselect &lt;- dplyr::select"
  },
  {
    "objectID": "data_preparation.html#custom-functions",
    "href": "data_preparation.html#custom-functions",
    "title": "Data Preparation",
    "section": "Custom Functions",
    "text": "Custom Functions\nCustom functions to process ISP outputs and generate figure plots. These are available from the linked repository at the top of the script.\n\n\nHide code\nsource(here(\"./R/utilities.R\"))\nsource_dir(\"./R\")"
  },
  {
    "objectID": "data_preparation.html#assign-file-path",
    "href": "data_preparation.html#assign-file-path",
    "title": "Data Preparation",
    "section": "Assign File Path",
    "text": "Assign File Path\n\n\nHide code\ngeneric_path &lt;- \"./script-inputs/isp-outputs\"\n\n## Assign regional scenario\nregional_scenario &lt;- \"eastern\"\n\nregional_path &lt;- sprintf(\"%s/outputs_%s\", generic_path, regional_scenario)"
  },
  {
    "objectID": "data_preparation.html#import-data",
    "href": "data_preparation.html#import-data",
    "title": "Data Preparation",
    "section": "Import Data",
    "text": "Import Data\n\nImport Infection Data\nThe import_infection_data function reads a .txt file containing infection events (Outputs_Infection.txt) for a specified region.\n\n\nHide code\ninfection &lt;- import_infection_data(regional_path)\n\ndim(infection)\n\n\n[1] 1990653      10\n\n\n\n\nImport Detection Data\nThe import_detection_data function reads a .txt file containing detection events (Outputs_Detection.txt) for a specified region.\n\n\nHide code\ndetection &lt;- import_detection_data(regional_path)\n\ndim(detection)\n\n\n[1] 1964277       9"
  },
  {
    "objectID": "data_preparation.html#read-farm-reference-file",
    "href": "data_preparation.html#read-farm-reference-file",
    "title": "Data Preparation",
    "section": "Read Farm Reference File",
    "text": "Read Farm Reference File\nThe FMD Farm Reference File used for this project contains geographic coordinates for theoretical farm locations. Premises data were generated using the Farm Location and Agricultural Production Simulator (FLAPS, see Burdett et al. 2015) and do not reflect true farm locations. Farm demographics are based upon National Agricultural Statistical Service (NASS) Census of Agriculture data.\n\n\nHide code\nreference &lt;- read.csv2(here(\"script-inputs/reference-files/FMD_Reference_File.csv\"), header=TRUE, sep=\",\")\n\ncolnames(reference) &lt;- c(\n                      \"premises\",\n                      \"class\",\n                      \"cattle\",\n                      \"weight\",\n                      \"x\",\n                      \"y\",\n                      \"state\",\n                      \"longitude\",\n                      \"latitude\",\n                      \"geo_region\"\n                      )\n\n## Select columns needed for spread analyses\nreference &lt;- reference %&gt;%\n  mutate(longitude = as.numeric(longitude),\n         latitude = as.numeric(latitude)) %&gt;%\n  select(-c(weight, cattle, x, y, geo_region))\n\ndim(reference)\n\n\n[1] 889759      5"
  },
  {
    "objectID": "duration.html",
    "href": "duration.html",
    "title": "Epidemic Duration",
    "section": "",
    "text": "The summarize_detections function generates a data frame summarizing detection events by iteration. The generate_detect_statistics generates a data frame of summary statistics grouped by preclinical infectious duration and response type.\n\n\nHide code\ndetect_summary &lt;- summarize_detections(detection)\n\nhead(detect_summary, 3)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nresponse\npreclinical_days\niteration\nfarms_detected\nfirst_detect\nlast_detect\nduration\n\n\n\n\nsuboptimal\n0\n1\n27\n18\n56\n38\n\n\nsuboptimal\n0\n2\n27\n18\n49\n31\n\n\nsuboptimal\n0\n3\n15\n18\n59\n41\n\n\n\n\n\n\nHide code\ndetect_config_summary &lt;- generate_detect_statistics(detect_summary)\n\nhead(detect_config_summary, 3)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsummary\nresponse\npreclinical_days\niterations\nmean\nsd\nq05\nq25\nq50\nq75\nq95\n\n\n\n\nfarms_detected\nsuboptimal\n0\n500\n41.624\n58.06653\n4\n10\n21\n51.00\n134.05\n\n\nfarms_detected\nsuboptimal\n1\n500\n89.316\n132.21729\n5\n16\n41\n94.75\n330.65\n\n\nfarms_detected\nsuboptimal\n2\n500\n185.954\n260.03083\n6\n25\n74\n268.25\n684.00"
  },
  {
    "objectID": "duration.html#detection-summary",
    "href": "duration.html#detection-summary",
    "title": "Epidemic Duration",
    "section": "",
    "text": "The summarize_detections function generates a data frame summarizing detection events by iteration. The generate_detect_statistics generates a data frame of summary statistics grouped by preclinical infectious duration and response type.\n\n\nHide code\ndetect_summary &lt;- summarize_detections(detection)\n\nhead(detect_summary, 3)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nresponse\npreclinical_days\niteration\nfarms_detected\nfirst_detect\nlast_detect\nduration\n\n\n\n\nsuboptimal\n0\n1\n27\n18\n56\n38\n\n\nsuboptimal\n0\n2\n27\n18\n49\n31\n\n\nsuboptimal\n0\n3\n15\n18\n59\n41\n\n\n\n\n\n\nHide code\ndetect_config_summary &lt;- generate_detect_statistics(detect_summary)\n\nhead(detect_config_summary, 3)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsummary\nresponse\npreclinical_days\niterations\nmean\nsd\nq05\nq25\nq50\nq75\nq95\n\n\n\n\nfarms_detected\nsuboptimal\n0\n500\n41.624\n58.06653\n4\n10\n21\n51.00\n134.05\n\n\nfarms_detected\nsuboptimal\n1\n500\n89.316\n132.21729\n5\n16\n41\n94.75\n330.65\n\n\nfarms_detected\nsuboptimal\n2\n500\n185.954\n260.03083\n6\n25\n74\n268.25\n684.00"
  },
  {
    "objectID": "duration.html#epidemic-duration",
    "href": "duration.html#epidemic-duration",
    "title": "Epidemic Duration",
    "section": "Epidemic Duration",
    "text": "Epidemic Duration\nThe epidemic duration is calculated as the number of days between the first detection and last detection of disease in a single outbreak.\n\n\nHide code\nduration_summary &lt;- detect_config_summary %&gt;%         \n  filter(summary == \"duration\")\n\ndim(duration_summary)\n\n\n[1]  9 11\n\n\nHide code\n## Print summary of Epidemic Duration (days)\nduration_summary\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsummary\nresponse\npreclinical_days\niterations\nmean\nsd\nq05\nq25\nq50\nq75\nq95\n\n\n\n\nduration\nsuboptimal\n0\n500\n47.752\n34.86393\n9.00\n23.00\n38.0\n63.25\n118.05\n\n\nduration\nsuboptimal\n1\n500\n62.646\n45.47743\n11.95\n28.00\n53.0\n80.00\n157.10\n\n\nduration\nsuboptimal\n2\n500\n81.336\n61.12757\n13.95\n35.00\n64.0\n110.25\n205.25\n\n\nduration\nsuboptimal\n3\n500\n107.550\n72.39352\n17.95\n47.00\n95.0\n152.25\n250.00\n\n\nduration\noptimal\n0\n500\n17.258\n15.70875\n2.00\n2.00\n15.0\n25.00\n50.00\n\n\nduration\noptimal\n1\n500\n23.564\n21.14465\n2.00\n9.75\n19.0\n31.00\n68.10\n\n\nduration\noptimal\n2\n500\n32.520\n30.70712\n2.00\n14.00\n24.0\n41.00\n94.05\n\n\nduration\noptimal\n3\n500\n39.916\n32.17738\n2.00\n16.00\n29.5\n56.25\n104.10\n\n\nduration\nlow-virulence\n6\n500\n284.674\n79.92990\n76.95\n259.75\n318.5\n341.00\n341.00"
  },
  {
    "objectID": "duration.html#significance-test",
    "href": "duration.html#significance-test",
    "title": "Epidemic Duration",
    "section": "Significance Test",
    "text": "Significance Test\nSignificance testing performed on optimal and suboptimal detection scenarios\n\n\nHide code\n## Filter out low virulence scenarios\nno_low_virulence &lt;- detection %&gt;%\n  filter(response != \"low-virulence\")\n\nno_low_virulence_summary &lt;- summarize_detections(no_low_virulence)\n\nrange(no_low_virulence_summary$duration)\n\n\n[1]   2 343\n\n\nHide code\nplot(density(no_low_virulence_summary$duration))\n\n\n\n\n\n\n\n\n\n\nLinear Model\n\n\nHide code\nmodel_duration &lt;- lm(duration ~ preclinical_days * response, \n                       data = no_low_virulence_summary)\n\nsummary(model_duration)\n\n\n\nCall:\nlm(formula = duration ~ preclinical_days * response, data = no_low_virulence_summary)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-105.550  -22.673   -7.752   14.447  256.664 \n\nCoefficients:\n                                     Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)                            17.258      1.932   8.932  &lt; 2e-16 ***\npreclinical_days1                       6.306      2.733   2.308   0.0211 *  \npreclinical_days2                      15.262      2.733   5.585 2.49e-08 ***\npreclinical_days3                      22.658      2.733   8.292  &lt; 2e-16 ***\nresponsesuboptimal                     30.494      2.733  11.160  &lt; 2e-16 ***\npreclinical_days1:responsesuboptimal    8.588      3.864   2.222   0.0263 *  \npreclinical_days2:responsesuboptimal   18.322      3.864   4.741 2.20e-06 ***\npreclinical_days3:responsesuboptimal   37.140      3.864   9.611  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 43.2 on 3992 degrees of freedom\nMultiple R-squared:  0.3075,    Adjusted R-squared:  0.3063 \nF-statistic: 253.2 on 7 and 3992 DF,  p-value: &lt; 2.2e-16\n\n\n\n\nAnalysis of Variance (ANOVA)\n\n\nHide code\nanova(model_duration)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDf\nSum Sq\nMean Sq\nF value\nPr(&gt;F)\n\n\n\n\npreclinical_days\n3\n955037.2\n318345.721\n170.54314\n0\n\n\nresponse\n1\n2162854.5\n2162854.542\n1158.67744\n0\n\n\npreclinical_days:response\n3\n190807.1\n63602.367\n34.07285\n0\n\n\nResiduals\n3992\n7451698.8\n1866.658\nNA\nNA"
  },
  {
    "objectID": "duration.html#plot-duration",
    "href": "duration.html#plot-duration",
    "title": "Epidemic Duration",
    "section": "Plot Duration",
    "text": "Plot Duration\nPrepare to plot the calculated median epidemic duration (days)\n\n\nHide code\nduration_summary$response &lt;- ordered(factor(duration_summary$response), c(\"optimal\", \"suboptimal\", \"low-virulence\"))\n\nresponse_colors &lt;- c(\"#74add1\", \"orange2\", \"red4\") \n\n\n\nGenerate Plot Using Patchwork Package\nThe plot_epidemic_duration function plots epidemic duration by scenario, with epidemic duration (days) on the x-axis and the duration of incubation phase transmission on the y-axis.\n\n\nHide code\nduration_plot &lt;- plot_epidemic_duration(duration_summary, regional_scenario)\n\n\n\n\nHide code\nduration_plot"
  },
  {
    "objectID": "infections.html",
    "href": "infections.html",
    "title": "Outbreak Magnitude",
    "section": "",
    "text": "The summarize_infections function generates a data frame summarizing infection events by iteration. The generate_infect_statistics generates a data frame of summary statistics grouped by preclinical infectious duration and response type.\n\n\nHide code\n## Summarize infection metrics for each iteration\ninfect_summary &lt;- summarize_infections(infection)\n\nhead(infect_summary, 3)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nresponse\npreclinical_days\niteration\nfarms_infected\ncattle_infected\nfirst_infect_day\nlast_infect_day\n\n\n\n\nsuboptimal\n0\n1\n27\n13404\n10\n48\n\n\nsuboptimal\n0\n2\n27\n6313\n10\n43\n\n\nsuboptimal\n0\n3\n15\n6634\n10\n49\n\n\n\n\n\n\nHide code\n## Generate summary statistics\ninfect_config_summary &lt;- generate_infect_statistics(infect_summary)\n\ndim(infect_config_summary)\n\n\n[1] 36 11"
  },
  {
    "objectID": "infections.html#infection-summary",
    "href": "infections.html#infection-summary",
    "title": "Outbreak Magnitude",
    "section": "",
    "text": "The summarize_infections function generates a data frame summarizing infection events by iteration. The generate_infect_statistics generates a data frame of summary statistics grouped by preclinical infectious duration and response type.\n\n\nHide code\n## Summarize infection metrics for each iteration\ninfect_summary &lt;- summarize_infections(infection)\n\nhead(infect_summary, 3)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nresponse\npreclinical_days\niteration\nfarms_infected\ncattle_infected\nfirst_infect_day\nlast_infect_day\n\n\n\n\nsuboptimal\n0\n1\n27\n13404\n10\n48\n\n\nsuboptimal\n0\n2\n27\n6313\n10\n43\n\n\nsuboptimal\n0\n3\n15\n6634\n10\n49\n\n\n\n\n\n\nHide code\n## Generate summary statistics\ninfect_config_summary &lt;- generate_infect_statistics(infect_summary)\n\ndim(infect_config_summary)\n\n\n[1] 36 11"
  },
  {
    "objectID": "infections.html#summarize-farms",
    "href": "infections.html#summarize-farms",
    "title": "Outbreak Magnitude",
    "section": "Summarize Farms",
    "text": "Summarize Farms\n\n\nHide code\nfarms_inf_summary &lt;- infect_config_summary %&gt;%    \n  filter(summary == \"farms_infected\")\n\nfarms_inf_summary\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsummary\nresponse\npreclinical_days\niterations\nmean\nsd\nq05\nq25\nq50\nq75\nq95\n\n\n\n\nfarms_infected\nsuboptimal\n0\n500\n41.674\n58.111803\n4.00\n10.00\n21.0\n51.00\n134.05\n\n\nfarms_infected\nsuboptimal\n1\n500\n89.450\n132.375095\n5.00\n16.00\n41.0\n94.75\n330.70\n\n\nfarms_infected\nsuboptimal\n2\n500\n186.164\n260.295764\n6.00\n26.00\n74.0\n268.25\n684.10\n\n\nfarms_infected\nsuboptimal\n3\n500\n457.092\n534.114914\n9.00\n43.00\n250.5\n655.50\n1620.15\n\n\nfarms_infected\noptimal\n0\n500\n6.564\n9.493058\n2.00\n2.00\n4.0\n7.00\n20.05\n\n\nfarms_infected\noptimal\n1\n500\n13.590\n22.554985\n2.00\n3.00\n6.0\n13.00\n57.05\n\n\nfarms_infected\noptimal\n2\n500\n30.400\n65.448629\n2.00\n5.00\n10.0\n26.00\n124.05\n\n\nfarms_infected\noptimal\n3\n500\n54.782\n88.785179\n2.00\n7.00\n15.0\n61.25\n237.10\n\n\nfarms_infected\nlow-virulence\n6\n500\n3101.590\n1465.846151\n61.85\n2435.75\n3412.5\n4187.25\n4993.10"
  },
  {
    "objectID": "infections.html#summarize-cattle",
    "href": "infections.html#summarize-cattle",
    "title": "Outbreak Magnitude",
    "section": "Summarize Cattle",
    "text": "Summarize Cattle\n\n\nHide code\ncattle_inf_summary &lt;- infect_config_summary %&gt;%    \n  filter(summary == \"cattle_infected\")\n\ncattle_inf_summary\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nsummary\nresponse\npreclinical_days\niterations\nmean\nsd\nq05\nq25\nq50\nq75\nq95\n\n\n\n\ncattle_infected\nsuboptimal\n0\n500\n16142.812\n25425.965\n1267.80\n2524.25\n6678.5\n18888.50\n57099.95\n\n\ncattle_infected\nsuboptimal\n1\n500\n31848.112\n51456.903\n1453.00\n4203.00\n13355.5\n33844.50\n126665.70\n\n\ncattle_infected\nsuboptimal\n2\n500\n62893.166\n97353.900\n1606.45\n6739.00\n23120.0\n83048.75\n253791.15\n\n\ncattle_infected\nsuboptimal\n3\n500\n153263.466\n192759.277\n1933.45\n13765.75\n74901.5\n215762.00\n601651.45\n\n\ncattle_infected\noptimal\n0\n500\n2686.652\n4157.196\n1164.00\n1164.00\n1247.0\n2236.25\n8903.30\n\n\ncattle_infected\noptimal\n1\n500\n5315.418\n9521.187\n1164.00\n1208.75\n1843.0\n4832.50\n21955.40\n\n\ncattle_infected\noptimal\n2\n500\n11114.532\n27786.861\n1164.00\n1355.50\n2824.0\n8958.25\n47171.35\n\n\ncattle_infected\noptimal\n3\n500\n17873.322\n29748.032\n1164.00\n1766.75\n4779.0\n21289.75\n79301.35\n\n\ncattle_infected\nlow-virulence\n6\n500\n1019390.812\n485089.246\n14089.10\n799123.25\n1161486.0\n1366618.00\n1600987.95"
  },
  {
    "objectID": "infections.html#significance-test",
    "href": "infections.html#significance-test",
    "title": "Outbreak Magnitude",
    "section": "Significance Test",
    "text": "Significance Test\nSignificance testing performed on optimal and suboptimal detection scenarios\n\n\nHide code\n## Filter out low virulence scenarios\nno_low_virulence &lt;- infection %&gt;%\n  filter(response != \"low-virulence\")\n\nno_low_virulence_summary &lt;- summarize_infections(no_low_virulence)\n\nrange(no_low_virulence_summary$cattle_infected) # high values\n\n\n[1]   1164 893163\n\n\nHide code\nplot(density(no_low_virulence_summary$cattle_infected)) #long tail\n\n\n\n\n\n\n\n\n\nHide code\n## Log scale to normalize data\nrange(log(no_low_virulence_summary$cattle_infected))\n\n\n[1]  7.059618 13.702524\n\n\nHide code\nplot(density(log(no_low_virulence_summary$cattle_infected)))\n\n\n\n\n\n\n\n\n\n\nLinear Model\n\n\nHide code\nmodel_inf_cattle &lt;- lm(log(cattle_infected) ~ preclinical_days * response, \n                       data = no_low_virulence_summary)\n\nsummary(model_inf_cattle)\n\n\n\nCall:\nlm(formula = log(cattle_infected) ~ preclinical_days * response, \n    data = no_low_virulence_summary)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-3.7779 -0.8537 -0.2152  0.9186  4.4417 \n\nCoefficients:\n                                     Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)                           7.50987    0.05923 126.797  &lt; 2e-16 ***\npreclinical_days1                     0.40348    0.08376   4.817 1.51e-06 ***\npreclinical_days2                     0.80329    0.08376   9.590  &lt; 2e-16 ***\npreclinical_days3                     1.26127    0.08376  15.058  &lt; 2e-16 ***\nresponsesuboptimal                    1.40233    0.08376  16.742  &lt; 2e-16 ***\npreclinical_days1:responsesuboptimal  0.14443    0.11846   1.219  0.22280    \npreclinical_days2:responsesuboptimal  0.30751    0.11846   2.596  0.00947 ** \npreclinical_days3:responsesuboptimal  0.66405    0.11846   5.606 2.21e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.324 on 3992 degrees of freedom\nMultiple R-squared:  0.3794,    Adjusted R-squared:  0.3783 \nF-statistic: 348.6 on 7 and 3992 DF,  p-value: &lt; 2.2e-16\n\n\n\n\nAnalysis of Variance (ANOVA)\n\n\nHide code\nanova(model_inf_cattle)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDf\nSum Sq\nMean Sq\nF value\nPr(&gt;F)\n\n\n\n\npreclinical_days\n3\n1391.58709\n463.862363\n264.46615\n0e+00\n\n\nresponse\n1\n2826.86883\n2826.868825\n1611.70891\n0e+00\n\n\npreclinical_days:response\n3\n61.25672\n20.418906\n11.64162\n1e-07\n\n\nResiduals\n3992\n7001.79806\n1.753957\nNA\nNA"
  },
  {
    "objectID": "infections.html#plot-cattle-numbers",
    "href": "infections.html#plot-cattle-numbers",
    "title": "Outbreak Magnitude",
    "section": "Plot Cattle Numbers",
    "text": "Plot Cattle Numbers\nPrepare to plot the median number of infected cattle by scenario\n\n\nHide code\ncattle_inf_summary$response &lt;- ordered(factor(cattle_inf_summary$response), c(\"optimal\", \"suboptimal\", \"low-virulence\"))\n\n## Assign response colors\nresponse_colors &lt;- c(\"#74add1\", \"orange2\", \"red4\") \n\n\n\nGenerate Plot Using Patchwork Package\nThe plot_infected_cattle function plots infected cattle by scenario, with the duration of incubation phase transmission on the x-axis and the median number of infected cattle on the y-axis.\n\n\nHide code\ninfect_cattle_plot &lt;- plot_infected_cattle(cattle_inf_summary, regional_scenario)\n\n\n\n\nHide code\ninfect_cattle_plot"
  }
]